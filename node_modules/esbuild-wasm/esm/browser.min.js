var qe=Object.defineProperty;var Ie=(e,t)=>{for(var n in t)qe(e,n,{get:t[n],enumerable:!0})};var he={};Ie(he,{analyzeMetafile:()=>lt,analyzeMetafileSync:()=>ut,build:()=>tt,buildSync:()=>st,context:()=>nt,default:()=>dt,formatMessages:()=>it,formatMessagesSync:()=>at,initialize:()=>ft,transform:()=>rt,transformSync:()=>ot,version:()=>et});function ve(e){let t=l=>{if(l===null)n.write8(0);else if(typeof l=="boolean")n.write8(1),n.write8(+l);else if(typeof l=="number")n.write8(2),n.write32(l|0);else if(typeof l=="string")n.write8(3),n.write(H(l));else if(l instanceof Uint8Array)n.write8(4),n.write(l);else if(l instanceof Array){n.write8(5),n.write32(l.length);for(let c of l)t(c)}else{let c=Object.keys(l);n.write8(6),n.write32(c.length);for(let i of c)n.write(H(i)),t(l[i])}},n=new ce;return n.write32(0),n.write32(e.id<<1|+!e.isRequest),t(e.value),be(n.buf,n.len-4,0),n.buf.subarray(0,n.len)}function Oe(e){let t=()=>{switch(n.read8()){case 0:return null;case 1:return!!n.read8();case 2:return n.read32();case 3:return ee(n.read());case 4:return n.read();case 5:{let d=n.read32(),o=[];for(let y=0;y<d;y++)o.push(t());return o}case 6:{let d=n.read32(),o={};for(let y=0;y<d;y++)o[ee(n.read())]=t();return o}default:throw new Error("Invalid packet")}},n=new ce(e),l=n.read32(),c=(l&1)===0;l>>>=1;let i=t();if(n.ptr!==e.length)throw new Error("Invalid packet");return{id:l,isRequest:c,value:i}}var ce=class{constructor(t=new Uint8Array(1024)){this.buf=t;this.len=0;this.ptr=0}_write(t){if(this.len+t>this.buf.length){let n=new Uint8Array((this.len+t)*2);n.set(this.buf),this.buf=n}return this.len+=t,this.len-t}write8(t){let n=this._write(1);this.buf[n]=t}write32(t){let n=this._write(4);be(this.buf,t,n)}write(t){let n=this._write(4+t.length);be(this.buf,t.length,n),this.buf.set(t,n+4)}_read(t){if(this.ptr+t>this.buf.length)throw new Error("Invalid packet");return this.ptr+=t,this.ptr-t}read8(){return this.buf[this._read(1)]}read32(){return Re(this.buf,this._read(4))}read(){let t=this.read32(),n=new Uint8Array(t),l=this._read(n.length);return n.set(this.buf.subarray(l,l+t)),n}},H,ee,we;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let e=new TextEncoder,t=new TextDecoder;H=n=>e.encode(n),ee=n=>t.decode(n),we='new TextEncoder().encode("")'}else if(typeof Buffer!="undefined")H=e=>Buffer.from(e),ee=e=>{let{buffer:t,byteOffset:n,byteLength:l}=e;return Buffer.from(t,n,l).toString()},we='Buffer.from("")';else throw new Error("No UTF-8 codec found");if(!(H("")instanceof Uint8Array))throw new Error(`Invariant violation: "${we} instanceof Uint8Array" is incorrectly false

This indicates that your JavaScript environment is broken. You cannot use
esbuild in this environment because esbuild relies on this invariant. This
is not a problem with esbuild. You need to fix your environment instead.
`);function Re(e,t){return e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24}function be(e,t,n){e[n++]=t,e[n++]=t>>8,e[n++]=t>>16,e[n++]=t>>24}var _=JSON.stringify,Ee="warning",Se="silent";function ke(e){if(V(e,"target"),e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var pe=()=>null,N=e=>typeof e=="boolean"?null:"a boolean",w=e=>typeof e=="string"?null:"a string",me=e=>e instanceof RegExp?null:"a RegExp object",re=e=>typeof e=="number"&&e===(e|0)?null:"an integer",Ce=e=>typeof e=="function"?null:"a function",z=e=>Array.isArray(e)?null:"an array",G=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"an object",ze=e=>e instanceof WebAssembly.Module?null:"a WebAssembly.Module",Ke=e=>typeof e=="object"&&e!==null?null:"an array or an object",$e=e=>typeof e=="object"&&!Array.isArray(e)?null:"an object or null",Ae=e=>typeof e=="string"||typeof e=="boolean"?null:"a string or a boolean",_e=e=>typeof e=="string"||typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"a string or an object",Ve=e=>typeof e=="string"||Array.isArray(e)?null:"a string or an array",Te=e=>typeof e=="string"||e instanceof Uint8Array?null:"a string or a Uint8Array",Ye=e=>typeof e=="string"||e instanceof URL?null:"a string or a URL";function r(e,t,n,l){let c=e[n];if(t[n+""]=!0,c===void 0)return;let i=l(c);if(i!==null)throw new Error(`${_(n)} must be ${i}`);return c}function K(e,t,n){for(let l in e)if(!(l in t))throw new Error(`Invalid option ${n}: ${_(l)}`)}function Fe(e){let t=Object.create(null),n=r(e,t,"wasmURL",Ye),l=r(e,t,"wasmModule",ze),c=r(e,t,"worker",N);return K(e,t,"in initialize() call"),{wasmURL:n,wasmModule:l,worker:c}}function Be(e){let t;if(e!==void 0){t=Object.create(null);for(let n in e){let l=e[n];if(typeof l=="string"||l===!1)t[n]=l;else throw new Error(`Expected ${_(n)} in mangle cache to map to either a string or false`)}}return t}function ye(e,t,n,l,c){let i=r(t,n,"color",N),d=r(t,n,"logLevel",w),o=r(t,n,"logLimit",re);i!==void 0?e.push(`--color=${i}`):l&&e.push("--color=true"),e.push(`--log-level=${d||c}`),e.push(`--log-limit=${o||0}`)}function V(e,t,n){if(typeof e!="string")throw new Error(`Expected value for ${t}${n!==void 0?" "+_(n):""} to be a string, got ${typeof e} instead`);return e}function De(e,t,n){let l=r(t,n,"legalComments",w),c=r(t,n,"sourceRoot",w),i=r(t,n,"sourcesContent",N),d=r(t,n,"target",Ve),o=r(t,n,"format",w),y=r(t,n,"globalName",w),v=r(t,n,"mangleProps",me),R=r(t,n,"reserveProps",me),C=r(t,n,"mangleQuoted",N),U=r(t,n,"minify",N),F=r(t,n,"minifySyntax",N),j=r(t,n,"minifyWhitespace",N),Y=r(t,n,"minifyIdentifiers",N),B=r(t,n,"drop",z),I=r(t,n,"charset",w),L=r(t,n,"treeShaking",N),g=r(t,n,"ignoreAnnotations",N),s=r(t,n,"jsx",w),u=r(t,n,"jsxFactory",w),h=r(t,n,"jsxFragment",w),T=r(t,n,"jsxImportSource",w),S=r(t,n,"jsxDev",N),a=r(t,n,"jsxSideEffects",N),f=r(t,n,"define",G),p=r(t,n,"logOverride",G),O=r(t,n,"supported",G),k=r(t,n,"pure",z),$=r(t,n,"keepNames",N),E=r(t,n,"platform",w);if(l&&e.push(`--legal-comments=${l}`),c!==void 0&&e.push(`--source-root=${c}`),i!==void 0&&e.push(`--sources-content=${i}`),d&&(Array.isArray(d)?e.push(`--target=${Array.from(d).map(ke).join(",")}`):e.push(`--target=${ke(d)}`)),o&&e.push(`--format=${o}`),y&&e.push(`--global-name=${y}`),E&&e.push(`--platform=${E}`),U&&e.push("--minify"),F&&e.push("--minify-syntax"),j&&e.push("--minify-whitespace"),Y&&e.push("--minify-identifiers"),I&&e.push(`--charset=${I}`),L!==void 0&&e.push(`--tree-shaking=${L}`),g&&e.push("--ignore-annotations"),B)for(let b of B)e.push(`--drop:${V(b,"drop")}`);if(v&&e.push(`--mangle-props=${v.source}`),R&&e.push(`--reserve-props=${R.source}`),C!==void 0&&e.push(`--mangle-quoted=${C}`),s&&e.push(`--jsx=${s}`),u&&e.push(`--jsx-factory=${u}`),h&&e.push(`--jsx-fragment=${h}`),T&&e.push(`--jsx-import-source=${T}`),S&&e.push("--jsx-dev"),a&&e.push("--jsx-side-effects"),f)for(let b in f){if(b.indexOf("=")>=0)throw new Error(`Invalid define: ${b}`);e.push(`--define:${b}=${V(f[b],"define",b)}`)}if(p)for(let b in p){if(b.indexOf("=")>=0)throw new Error(`Invalid log override: ${b}`);e.push(`--log-override:${b}=${V(p[b],"log override",b)}`)}if(O)for(let b in O){if(b.indexOf("=")>=0)throw new Error(`Invalid supported: ${b}`);let x=O[b];if(typeof x!="boolean")throw new Error(`Expected value for supported ${_(b)} to be a boolean, got ${typeof x} instead`);e.push(`--supported:${b}=${x}`)}if(k)for(let b of k)e.push(`--pure:${V(b,"pure")}`);$&&e.push("--keep-names")}function Je(e,t,n,l,c){var se;let i=[],d=[],o=Object.create(null),y=null,v=null;ye(i,t,o,n,l),De(i,t,o);let R=r(t,o,"sourcemap",Ae),C=r(t,o,"bundle",N),U=r(t,o,"splitting",N),F=r(t,o,"preserveSymlinks",N),j=r(t,o,"metafile",N),Y=r(t,o,"outfile",w),B=r(t,o,"outdir",w),I=r(t,o,"outbase",w),L=r(t,o,"tsconfig",w),g=r(t,o,"resolveExtensions",z),s=r(t,o,"nodePaths",z),u=r(t,o,"mainFields",z),h=r(t,o,"conditions",z),T=r(t,o,"external",z),S=r(t,o,"packages",w),a=r(t,o,"alias",G),f=r(t,o,"loader",G),p=r(t,o,"outExtension",G),O=r(t,o,"publicPath",w),k=r(t,o,"entryNames",w),$=r(t,o,"chunkNames",w),E=r(t,o,"assetNames",w),b=r(t,o,"inject",z),x=r(t,o,"banner",G),W=r(t,o,"footer",G),A=r(t,o,"entryPoints",Ke),D=r(t,o,"absWorkingDir",w),P=r(t,o,"stdin",G),M=(se=r(t,o,"write",N))!=null?se:c,J=r(t,o,"allowOverwrite",N),Q=r(t,o,"mangleCache",G);if(o.plugins=!0,K(t,o,`in ${e}() call`),R&&i.push(`--sourcemap${R===!0?"":`=${R}`}`),C&&i.push("--bundle"),J&&i.push("--allow-overwrite"),U&&i.push("--splitting"),F&&i.push("--preserve-symlinks"),j&&i.push("--metafile"),Y&&i.push(`--outfile=${Y}`),B&&i.push(`--outdir=${B}`),I&&i.push(`--outbase=${I}`),L&&i.push(`--tsconfig=${L}`),S&&i.push(`--packages=${S}`),g){let m=[];for(let q of g){if(V(q,"resolve extension"),q.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${q}`);m.push(q)}i.push(`--resolve-extensions=${m.join(",")}`)}if(O&&i.push(`--public-path=${O}`),k&&i.push(`--entry-names=${k}`),$&&i.push(`--chunk-names=${$}`),E&&i.push(`--asset-names=${E}`),u){let m=[];for(let q of u){if(V(q,"main field"),q.indexOf(",")>=0)throw new Error(`Invalid main field: ${q}`);m.push(q)}i.push(`--main-fields=${m.join(",")}`)}if(h){let m=[];for(let q of h){if(V(q,"condition"),q.indexOf(",")>=0)throw new Error(`Invalid condition: ${q}`);m.push(q)}i.push(`--conditions=${m.join(",")}`)}if(T)for(let m of T)i.push(`--external:${V(m,"external")}`);if(a)for(let m in a){if(m.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${m}`);i.push(`--alias:${m}=${V(a[m],"alias",m)}`)}if(x)for(let m in x){if(m.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${m}`);i.push(`--banner:${m}=${V(x[m],"banner",m)}`)}if(W)for(let m in W){if(m.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${m}`);i.push(`--footer:${m}=${V(W[m],"footer",m)}`)}if(b)for(let m of b)i.push(`--inject:${V(m,"inject")}`);if(f)for(let m in f){if(m.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${m}`);i.push(`--loader:${m}=${V(f[m],"loader",m)}`)}if(p)for(let m in p){if(m.indexOf("=")>=0)throw new Error(`Invalid out extension: ${m}`);i.push(`--out-extension:${m}=${V(p[m],"out extension",m)}`)}if(A)if(Array.isArray(A))for(let m of A)d.push(["",V(m,"entry point")]);else for(let m in A)d.push([m,V(A[m],"entry point",m)]);if(P){let m=Object.create(null),q=r(P,m,"contents",Te),X=r(P,m,"resolveDir",w),oe=r(P,m,"sourcefile",w),fe=r(P,m,"loader",w);K(P,m,'in "stdin" object'),oe&&i.push(`--sourcefile=${oe}`),fe&&i.push(`--loader=${fe}`),X&&(v=X),typeof q=="string"?y=H(q):q instanceof Uint8Array&&(y=q)}let ne=[];if(s)for(let m of s)m+="",ne.push(m);return{entries:d,flags:i,write:M,stdinContents:y,stdinResolveDir:v,absWorkingDir:D,nodePaths:ne,mangleCache:Be(Q)}}function Qe(e,t,n,l){let c=[],i=Object.create(null);ye(c,t,i,n,l),De(c,t,i);let d=r(t,i,"sourcemap",Ae),o=r(t,i,"tsconfigRaw",_e),y=r(t,i,"sourcefile",w),v=r(t,i,"loader",w),R=r(t,i,"banner",w),C=r(t,i,"footer",w),U=r(t,i,"mangleCache",G);return K(t,i,`in ${e}() call`),d&&c.push(`--sourcemap=${d===!0?"external":d}`),o&&c.push(`--tsconfig-raw=${typeof o=="string"?o:JSON.stringify(o)}`),y&&c.push(`--sourcefile=${y}`),v&&c.push(`--loader=${v}`),R&&c.push(`--banner=${R}`),C&&c.push(`--footer=${C}`),{flags:c,mangleCache:Be(U)}}function Pe(e){let t={},n={didClose:!1,reason:""},l={},c=0,i=0,d=new Uint8Array(16*1024),o=0,y=g=>{let s=o+g.length;if(s>d.length){let h=new Uint8Array(s*2);h.set(d),d=h}d.set(g,o),o+=g.length;let u=0;for(;u+4<=o;){let h=Re(d,u);if(u+4+h>o)break;u+=4,j(d.subarray(u,u+h)),u+=h}u>0&&(d.copyWithin(0,u,o),o-=u)},v=g=>{n.didClose=!0,g&&(n.reason=": "+(g.message||g));let s="The service was stopped"+n.reason;for(let u in l)l[u](s,null);l={}},R=(g,s,u)=>{if(n.didClose)return u("The service is no longer running"+n.reason,null);let h=c++;l[h]=(T,S)=>{try{u(T,S)}finally{g&&g.unref()}},g&&g.ref(),e.writeToStdin(ve({id:h,isRequest:!0,value:s}))},C=(g,s)=>{if(n.didClose)throw new Error("The service is no longer running"+n.reason);e.writeToStdin(ve({id:g,isRequest:!1,value:s}))},U=async(g,s)=>{try{if(s.command==="ping"){C(g,{});return}if(typeof s.key=="number"){let u=t[s.key];if(u){let h=u[s.command];if(h){await h(g,s);return}}}throw new Error("Invalid command: "+s.command)}catch(u){C(g,{errors:[te(u,e,null,void 0,"")]})}},F=!0,j=g=>{if(F){F=!1;let u=String.fromCharCode(...g);if(u!=="0.17.0")throw new Error(`Cannot start service: Host version "0.17.0" does not match binary version ${_(u)}`);return}let s=Oe(g);if(s.isRequest)U(s.id,s.value);else{let u=l[s.id];delete l[s.id],s.value.error?u(s.value.error,{}):u(null,s.value)}};return{readFromStdout:y,afterClose:v,service:{buildOrContext:({callName:g,refs:s,options:u,isTTY:h,defaultWD:T,callback:S})=>{let a=0,f=i++,p={},O={ref(){++a===1&&s&&s.ref()},unref(){--a===0&&(delete t[f],s&&s.unref())}};t[f]=p,O.ref(),He(g,f,R,C,O,e,p,u,h,T,(k,$)=>{try{S(k,$)}finally{O.unref()}})},transform:({callName:g,refs:s,input:u,options:h,isTTY:T,fs:S,callback:a})=>{let f=Ue(),p=O=>{try{if(typeof u!="string"&&!(u instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:k,mangleCache:$}=Qe(g,h,T,Se),E={command:"transform",flags:k,inputFS:O!==null,input:O!==null?H(O):typeof u=="string"?H(u):u};$&&(E.mangleCache=$),R(s,E,(b,x)=>{if(b)return a(new Error(b),null);let W=ie(x.errors,f),A=ie(x.warnings,f),D=1,P=()=>{if(--D===0){let M={warnings:A,code:x.code,map:x.map,mangleCache:void 0,legalComments:void 0};"legalComments"in x&&(M.legalComments=x==null?void 0:x.legalComments),x.mangleCache&&(M.mangleCache=x==null?void 0:x.mangleCache),a(null,M)}};if(W.length>0)return a(ae("Transform failed",W,A),null);x.codeFS&&(D++,S.readFile(x.code,(M,J)=>{M!==null?a(M,null):(x.code=J,P())})),x.mapFS&&(D++,S.readFile(x.map,(M,J)=>{M!==null?a(M,null):(x.map=J,P())})),P()})}catch(k){let $=[];try{ye($,h,{},T,Se)}catch(b){}let E=te(k,e,f,void 0,"");R(s,{command:"error",flags:$,error:E},()=>{E.detail=f.load(E.detail),a(ae("Transform failed",[E],[]),null)})}};if((typeof u=="string"||u instanceof Uint8Array)&&u.length>1024*1024){let O=p;p=()=>S.writeFile(u,O)}p(null)},formatMessages:({callName:g,refs:s,messages:u,options:h,callback:T})=>{let S=Z(u,"messages",null,"");if(!h)throw new Error(`Missing second argument in ${g}() call`);let a={},f=r(h,a,"kind",w),p=r(h,a,"color",N),O=r(h,a,"terminalWidth",re);if(K(h,a,`in ${g}() call`),f===void 0)throw new Error(`Missing "kind" in ${g}() call`);if(f!=="error"&&f!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${g}() call`);let k={command:"format-msgs",messages:S,isWarning:f==="warning"};p!==void 0&&(k.color=p),O!==void 0&&(k.terminalWidth=O),R(s,k,($,E)=>{if($)return T(new Error($),null);T(null,E.messages)})},analyzeMetafile:({callName:g,refs:s,metafile:u,options:h,callback:T})=>{h===void 0&&(h={});let S={},a=r(h,S,"color",N),f=r(h,S,"verbose",N);K(h,S,`in ${g}() call`);let p={command:"analyze-metafile",metafile:u};a!==void 0&&(p.color=a),f!==void 0&&(p.verbose=f),R(s,p,(O,k)=>{if(O)return T(new Error(O),null);T(null,k.result)})}}}}function He(e,t,n,l,c,i,d,o,y,v,R){let C=Ue(),U=e==="context",F=(B,I)=>{let L=[];try{ye(L,o,{},y,Ee)}catch(s){}let g=te(B,i,C,void 0,I);n(c,{command:"error",flags:L,error:g},()=>{g.detail=C.load(g.detail),R(ae(U?"Context failed":"Build failed",[g],[]),null)})},j;if(typeof o=="object"){let B=o.plugins;if(B!==void 0){if(!Array.isArray(B))return F(new Error('"plugins" must be an array'),"");j=B}}if(j&&j.length>0){if(i.isSync)return F(new Error("Cannot use plugins in synchronous API calls"),"");Ge(t,n,l,c,i,d,o,j,C).then(B=>{if(!B.ok)return F(B.error,B.pluginName);try{Y(B.requestPlugins,B.runOnEndCallbacks)}catch(I){F(I,"")}},B=>F(B,""));return}try{Y(null,(B,I)=>I([],[]))}catch(B){F(B,"")}function Y(B,I){let L=i.hasFS,{entries:g,flags:s,write:u,stdinContents:h,stdinResolveDir:T,absWorkingDir:S,nodePaths:a,mangleCache:f}=Je(e,o,y,Ee,L);if(u&&!i.hasFS)throw new Error('The "write" option is unavailable in this environment');let p={command:"build",key:t,entries:g,flags:s,write:u,stdinContents:h,stdinResolveDir:T,absWorkingDir:S||v,nodePaths:a,context:U};B&&(p.plugins=B),f&&(p.mangleCache=f);let O=(E,b)=>{let x={errors:ie(E.errors,C),warnings:ie(E.warnings,C),outputFiles:void 0,metafile:void 0,mangleCache:void 0},W=x.errors.slice(),A=x.warnings.slice();E.outputFiles&&(x.outputFiles=E.outputFiles.map(Xe)),E.metafile&&(x.metafile=JSON.parse(E.metafile)),E.mangleCache&&(x.mangleCache=E.mangleCache),E.writeToStdout!==void 0&&console.log(ee(E.writeToStdout).replace(/\n$/,"")),I(x,(D,P)=>{if(W.length>0||D.length>0){let M=ae("Build failed",W.concat(D),A.concat(P));return b(M,null,D,P)}b(null,x,D,P)})},k,$;U&&(d["on-end"]=(E,b)=>new Promise(x=>{O(b,(W,A,D,P)=>{let M={errors:D,warnings:P};$&&$(W,A),k=void 0,$=void 0,l(E,M),x()})})),n(c,p,(E,b)=>{if(E)return R(new Error(E),null);if(!U)return O(b,R);if(b.errors.length>0)return R(ae("Context failed",b.errors,b.warnings),null);let x=!1,W={rebuild:()=>(k||(k=new Promise((A,D)=>{let P;$=(J,Q)=>{P||(P=()=>J?D(J):A(Q))};let M=()=>{n(c,{command:"rebuild",key:t},(Q,ne)=>{Q?D(new Error(Q)):P?P():M()})};M()})),k),watch:(A={})=>new Promise((D,P)=>{if(!i.hasFS)throw new Error('Cannot use the "watch" API in this environment');K(A,{},"in watch() call"),n(c,{command:"watch",key:t},Q=>{Q?P(new Error(Q)):D(void 0)})}),serve:(A={})=>new Promise((D,P)=>{if(!i.hasFS)throw new Error('Cannot use the "serve" API in this environment');let M={},J=r(A,M,"port",re),Q=r(A,M,"host",w),ne=r(A,M,"servedir",w),se=r(A,M,"keyfile",w),m=r(A,M,"certfile",w),q=r(A,M,"onRequest",Ce);K(A,M,"in serve() call");let X={command:"serve",key:t,onRequest:!!q};J!==void 0&&(X.port=J),Q!==void 0&&(X.host=Q),ne!==void 0&&(X.servedir=ne),se!==void 0&&(X.keyfile=se),m!==void 0&&(X.certfile=m),n(c,X,(oe,fe)=>{if(oe)return P(new Error(oe));q&&(d["serve-request"]=(Le,Ne)=>{q(Ne.args),l(Le,{})}),D(fe)})}),dispose:()=>new Promise(A=>{if(x)return A();n(c,{command:"dispose",key:t},()=>{A(),c.unref()})})};c.ref(),R(null,W)})}}var Ge=async(e,t,n,l,c,i,d,o,y)=>{let v=[],R=[],C={},U={},F=0,j=0,Y=[],B=!1;o=[...o];for(let L of o){let g={};if(typeof L!="object")throw new Error(`Plugin at index ${j} must be an object`);let s=r(L,g,"name",w);if(typeof s!="string"||s==="")throw new Error(`Plugin at index ${j} is missing a name`);try{let u=r(L,g,"setup",Ce);if(typeof u!="function")throw new Error("Plugin is missing a setup function");K(L,g,`on plugin ${_(s)}`);let h={name:s,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};j++;let S=u({initialOptions:d,resolve:(a,f={})=>{if(!B)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof a!="string")throw new Error("The path to resolve must be a string");let p=Object.create(null),O=r(f,p,"pluginName",w),k=r(f,p,"importer",w),$=r(f,p,"namespace",w),E=r(f,p,"resolveDir",w),b=r(f,p,"kind",w),x=r(f,p,"pluginData",pe);return K(f,p,"in resolve() call"),new Promise((W,A)=>{let D={command:"resolve",path:a,key:e,pluginName:s};if(O!=null&&(D.pluginName=O),k!=null&&(D.importer=k),$!=null&&(D.namespace=$),E!=null&&(D.resolveDir=E),b!=null)D.kind=b;else throw new Error('Must specify "kind" when calling "resolve"');x!=null&&(D.pluginData=y.store(x)),t(l,D,(P,M)=>{P!==null?A(new Error(P)):W({errors:ie(M.errors,y),warnings:ie(M.warnings,y),path:M.path,external:M.external,sideEffects:M.sideEffects,namespace:M.namespace,suffix:M.suffix,pluginData:y.load(M.pluginData)})})})},onStart(a){let f='This error came from the "onStart" callback registered here:',p=de(new Error(f),c,"onStart");v.push({name:s,callback:a,note:p}),h.onStart=!0},onEnd(a){let f='This error came from the "onEnd" callback registered here:',p=de(new Error(f),c,"onEnd");R.push({name:s,callback:a,note:p}),h.onEnd=!0},onResolve(a,f){let p='This error came from the "onResolve" callback registered here:',O=de(new Error(p),c,"onResolve"),k={},$=r(a,k,"filter",me),E=r(a,k,"namespace",w);if(K(a,k,`in onResolve() call for plugin ${_(s)}`),$==null)throw new Error("onResolve() call is missing a filter");let b=F++;C[b]={name:s,callback:f,note:O},h.onResolve.push({id:b,filter:$.source,namespace:E||""})},onLoad(a,f){let p='This error came from the "onLoad" callback registered here:',O=de(new Error(p),c,"onLoad"),k={},$=r(a,k,"filter",me),E=r(a,k,"namespace",w);if(K(a,k,`in onLoad() call for plugin ${_(s)}`),$==null)throw new Error("onLoad() call is missing a filter");let b=F++;U[b]={name:s,callback:f,note:O},h.onLoad.push({id:b,filter:$.source,namespace:E||""})},esbuild:c.esbuild});S&&await S,Y.push(h)}catch(u){return{ok:!1,error:u,pluginName:s}}}i["on-start"]=async(L,g)=>{let s={errors:[],warnings:[]};await Promise.all(v.map(async({name:u,callback:h,note:T})=>{try{let S=await h();if(S!=null){if(typeof S!="object")throw new Error(`Expected onStart() callback in plugin ${_(u)} to return an object`);let a={},f=r(S,a,"errors",z),p=r(S,a,"warnings",z);K(S,a,`from onStart() callback in plugin ${_(u)}`),f!=null&&s.errors.push(...Z(f,"errors",y,u)),p!=null&&s.warnings.push(...Z(p,"warnings",y,u))}}catch(S){s.errors.push(te(S,c,y,T&&T(),u))}})),n(L,s)},i["on-resolve"]=async(L,g)=>{let s={},u="",h,T;for(let S of g.ids)try{({name:u,callback:h,note:T}=C[S]);let a=await h({path:g.path,importer:g.importer,namespace:g.namespace,resolveDir:g.resolveDir,kind:g.kind,pluginData:y.load(g.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onResolve() callback in plugin ${_(u)} to return an object`);let f={},p=r(a,f,"pluginName",w),O=r(a,f,"path",w),k=r(a,f,"namespace",w),$=r(a,f,"suffix",w),E=r(a,f,"external",N),b=r(a,f,"sideEffects",N),x=r(a,f,"pluginData",pe),W=r(a,f,"errors",z),A=r(a,f,"warnings",z),D=r(a,f,"watchFiles",z),P=r(a,f,"watchDirs",z);K(a,f,`from onResolve() callback in plugin ${_(u)}`),s.id=S,p!=null&&(s.pluginName=p),O!=null&&(s.path=O),k!=null&&(s.namespace=k),$!=null&&(s.suffix=$),E!=null&&(s.external=E),b!=null&&(s.sideEffects=b),x!=null&&(s.pluginData=y.store(x)),W!=null&&(s.errors=Z(W,"errors",y,u)),A!=null&&(s.warnings=Z(A,"warnings",y,u)),D!=null&&(s.watchFiles=ge(D,"watchFiles")),P!=null&&(s.watchDirs=ge(P,"watchDirs"));break}}catch(a){s={id:S,errors:[te(a,c,y,T&&T(),u)]};break}n(L,s)},i["on-load"]=async(L,g)=>{let s={},u="",h,T;for(let S of g.ids)try{({name:u,callback:h,note:T}=U[S]);let a=await h({path:g.path,namespace:g.namespace,suffix:g.suffix,pluginData:y.load(g.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onLoad() callback in plugin ${_(u)} to return an object`);let f={},p=r(a,f,"pluginName",w),O=r(a,f,"contents",Te),k=r(a,f,"resolveDir",w),$=r(a,f,"pluginData",pe),E=r(a,f,"loader",w),b=r(a,f,"errors",z),x=r(a,f,"warnings",z),W=r(a,f,"watchFiles",z),A=r(a,f,"watchDirs",z);K(a,f,`from onLoad() callback in plugin ${_(u)}`),s.id=S,p!=null&&(s.pluginName=p),O instanceof Uint8Array?s.contents=O:O!=null&&(s.contents=H(O)),k!=null&&(s.resolveDir=k),$!=null&&(s.pluginData=y.store($)),E!=null&&(s.loader=E),b!=null&&(s.errors=Z(b,"errors",y,u)),x!=null&&(s.warnings=Z(x,"warnings",y,u)),W!=null&&(s.watchFiles=ge(W,"watchFiles")),A!=null&&(s.watchDirs=ge(A,"watchDirs"));break}}catch(a){s={id:S,errors:[te(a,c,y,T&&T(),u)]};break}n(L,s)};let I=(L,g)=>g([],[]);return R.length>0&&(I=(L,g)=>{(async()=>{let s=[],u=[];for(let{name:h,callback:T,note:S}of R){let a,f;try{let p=await T(L);if(p!=null){if(typeof p!="object")throw new Error(`Expected onEnd() callback in plugin ${_(h)} to return an object`);let O={},k=r(p,O,"errors",z),$=r(p,O,"warnings",z);K(p,O,`from onEnd() callback in plugin ${_(h)}`),k!=null&&(a=Z(k,"errors",y,h)),$!=null&&(f=Z($,"warnings",y,h))}}catch(p){a=[te(p,c,y,S&&S(),h)]}if(a){s.push(...a);try{L.errors.push(...a)}catch(p){}}if(f){u.push(...f);try{L.warnings.push(...f)}catch(p){}}}g(s,u)})()}),B=!0,{ok:!0,requestPlugins:Y,runOnEndCallbacks:I}};function Ue(){let e=new Map,t=0;return{load(n){return e.get(n)},store(n){if(n===void 0)return-1;let l=t++;return e.set(l,n),l}}}function de(e,t,n){let l,c=!1;return()=>{if(c)return l;c=!0;try{let i=(e.stack+"").split(`
`);i.splice(1,1);let d=je(t,i,n);if(d)return l={text:e.message,location:d},l}catch(i){}}}function te(e,t,n,l,c){let i="Internal error",d=null;try{i=(e&&e.message||e)+""}catch(o){}try{d=je(t,(e.stack+"").split(`
`),"")}catch(o){}return{id:"",pluginName:c,text:i,location:d,notes:l?[l]:[],detail:n?n.store(e):-1}}function je(e,t,n){let l="    at ";if(e.readFileSync&&!t[0].startsWith(l)&&t[1].startsWith(l))for(let c=1;c<t.length;c++){let i=t[c];if(i.startsWith(l))for(i=i.slice(l.length);;){let d=/^(?:new |async )?\S+ \((.*)\)$/.exec(i);if(d){i=d[1];continue}if(d=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(i),d){i=d[1];continue}if(d=/^(\S+):(\d+):(\d+)$/.exec(i),d){let o;try{o=e.readFileSync(d[1],"utf8")}catch(C){break}let y=o.split(/\r\n|\r|\n|\u2028|\u2029/)[+d[2]-1]||"",v=+d[3]-1,R=y.slice(v,v+n.length)===n?n.length:0;return{file:d[1],namespace:"file",line:+d[2],column:H(y.slice(0,v)).length,length:H(y.slice(v,v+R)).length,lineText:y+`
`+t.slice(1).join(`
`),suggestion:""}}break}}return null}function ae(e,t,n){let l=5,c=t.length<1?"":` with ${t.length} error${t.length<2?"":"s"}:`+t.slice(0,l+1).map((d,o)=>{if(o===l)return`
...`;if(!d.location)return`
error: ${d.text}`;let{file:y,line:v,column:R}=d.location,C=d.pluginName?`[plugin: ${d.pluginName}] `:"";return`
${y}:${v}:${R}: ERROR: ${C}${d.text}`}).join(""),i=new Error(`${e}${c}`);return i.errors=t,i.warnings=n,i}function ie(e,t){for(let n of e)n.detail=t.load(n.detail);return e}function Me(e,t){if(e==null)return null;let n={},l=r(e,n,"file",w),c=r(e,n,"namespace",w),i=r(e,n,"line",re),d=r(e,n,"column",re),o=r(e,n,"length",re),y=r(e,n,"lineText",w),v=r(e,n,"suggestion",w);return K(e,n,t),{file:l||"",namespace:c||"",line:i||0,column:d||0,length:o||0,lineText:y||"",suggestion:v||""}}function Z(e,t,n,l){let c=[],i=0;for(let d of e){let o={},y=r(d,o,"id",w),v=r(d,o,"pluginName",w),R=r(d,o,"text",w),C=r(d,o,"location",$e),U=r(d,o,"notes",z),F=r(d,o,"detail",pe),j=`in element ${i} of "${t}"`;K(d,o,j);let Y=[];if(U)for(let B of U){let I={},L=r(B,I,"text",w),g=r(B,I,"location",$e);K(B,I,j),Y.push({text:L||"",location:Me(g,j)})}c.push({id:y||"",pluginName:v||l,text:R||"",location:Me(C,j),notes:Y,detail:n?n.store(F):-1}),i++}return c}function ge(e,t){let n=[];for(let l of e){if(typeof l!="string")throw new Error(`${_(t)} must be an array of strings`);n.push(l)}return n}function Xe({path:e,contents:t}){let n=null;return{path:e,contents:t,get text(){let l=this.contents;return(n===null||l!==t)&&(t=l,n=ee(l)),n}}}var et="0.17.0",tt=e=>ue().build(e),nt=e=>ue().context(e),rt=(e,t)=>ue().transform(e,t),it=(e,t)=>ue().formatMessages(e,t),lt=(e,t)=>ue().analyzeMetafile(e,t),st=()=>{throw new Error('The "buildSync" API only works in node')},ot=()=>{throw new Error('The "transformSync" API only works in node')},at=()=>{throw new Error('The "formatMessagesSync" API only works in node')},ut=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},le,xe,ue=()=>{if(xe)return xe;throw le?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},ft=e=>{e=Fe(e||{});let t=e.wasmURL,n=e.wasmModule,l=e.worker!==!1;if(!t&&!n)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(le)throw new Error('Cannot call "initialize" more than once');return le=ct(t||"",n,l),le.catch(()=>{le=void 0}),le},ct=async(e,t,n)=>{let l;if(n){let v=new Blob(['onmessage=(postMessage=>{\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nlet onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=g.decode(s);const i=c.lastIndexOf(`\n`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,a,h,u){if(i!==0||a!==s.length||h!==null){u(r());return}const d=this.writeSync(n,s);u(null,d)},chmod(n,s,i){i(r())},chown(n,s,i,a){a(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,a){a(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,a){a(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,a){a(r())},read(n,s,i,a,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,a){a(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),g=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let l=this._ids.get(t);l===void 0&&(l=this._idPool.pop(),l===void 0&&(l=this._values.length),this._values[l]=t,this._goRefCounts[l]=0,this._ids.set(t,l)),this._goRefCounts[l]++;let m=0;switch(typeof t){case"object":t!==null&&(m=1);break;case"string":m=2;break;case"symbol":m=3;break;case"function":m=4;break}this.mem.setUint32(e+4,2146959360|m,!0),this.mem.setUint32(e,l,!0)},a=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),l=new Array(o);for(let m=0;m<o;m++)l[m]=s(t+m*8);return l},u=e=>{const t=n(e+0),o=n(e+8);return g.decode(new DataView(this._inst.exports.mem.buffer,t,o))},d=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),l=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,l))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(d+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(a(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),l=h(e+32),m=Reflect.apply(o,t,l);e=this._inst.exports.getsp()>>>0,i(e+56,m),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),l=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,l),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),l=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,l),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);a(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=a(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const l=o.subarray(0,t.length);t.set(l),c(e+40,l.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=a(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const l=o.subarray(0,t.length);t.set(l),c(e+40,l.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}async run(c){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,a=[];this.argv.forEach(e=>{a.push(s(e))}),a.push(0),Object.keys(this.env).sort().forEach(e=>{a.push(s(`${e}=${this.env[e]}`))}),a.push(0);const u=n;a.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const d=4096+8192;if(n>=d)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,g=globalThis.fs,c="";g.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let d=c.split(`\n`);d.length>1&&console.log(d.slice(0,-1).join(`\n`)),c=d[d.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},g.read=(h,u,d,e,t,o)=>{if(h!==0||d!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>g.read(h,u,d,e,t,o);return}let l=n[0],m=Math.max(0,Math.min(e,l.length-i));u.set(l.subarray(i,i+m),d),i+=m,i===l.length&&(n.shift(),i=0),o(null,m)};let a=new globalThis.Go;a.argv=["","--service=0.17.0"],tryToInstantiateModule(r,a).then(h=>{postMessage(null),a.run(h)},h=>{postMessage(h)})};async function tryToInstantiateModule(r,f){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const g=await fetch(r);if(!g.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\\/wasm($|;)/i.test(g.headers.get("Content-Type")||""))return(await WebAssembly.instantiateStreaming(g,f.importObject)).instance;const c=await g.arrayBuffer();return(await WebAssembly.instantiate(c,f.importObject)).instance}return r=>onmessage(r);})(postMessage)'],{type:"text/javascript"});l=new Worker(URL.createObjectURL(v))}else{let v=(postMessage=>{
// Copyright 2018 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=g.decode(s);const i=c.lastIndexOf(`
`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,a,h,u){if(i!==0||a!==s.length||h!==null){u(r());return}const d=this.writeSync(n,s);u(null,d)},chmod(n,s,i){i(r())},chown(n,s,i,a){a(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,a){a(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,a){a(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,a){a(r())},read(n,s,i,a,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,a){a(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),g=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let l=this._ids.get(t);l===void 0&&(l=this._idPool.pop(),l===void 0&&(l=this._values.length),this._values[l]=t,this._goRefCounts[l]=0,this._ids.set(t,l)),this._goRefCounts[l]++;let m=0;switch(typeof t){case"object":t!==null&&(m=1);break;case"string":m=2;break;case"symbol":m=3;break;case"function":m=4;break}this.mem.setUint32(e+4,2146959360|m,!0),this.mem.setUint32(e,l,!0)},a=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),l=new Array(o);for(let m=0;m<o;m++)l[m]=s(t+m*8);return l},u=e=>{const t=n(e+0),o=n(e+8);return g.decode(new DataView(this._inst.exports.mem.buffer,t,o))},d=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),l=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,l))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(d+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(a(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),l=h(e+32),m=Reflect.apply(o,t,l);e=this._inst.exports.getsp()>>>0,i(e+56,m),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),l=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,l),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),l=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,l),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);a(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=a(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const l=o.subarray(0,t.length);t.set(l),c(e+40,l.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=a(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const l=o.subarray(0,t.length);t.set(l),c(e+40,l.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}async run(c){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,a=[];this.argv.forEach(e=>{a.push(s(e))}),a.push(0),Object.keys(this.env).sort().forEach(e=>{a.push(s(`${e}=${this.env[e]}`))}),a.push(0);const u=n;a.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const d=4096+8192;if(n>=d)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,g=globalThis.fs,c="";g.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let d=c.split(`
`);d.length>1&&console.log(d.slice(0,-1).join(`
`)),c=d[d.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},g.read=(h,u,d,e,t,o)=>{if(h!==0||d!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>g.read(h,u,d,e,t,o);return}let l=n[0],m=Math.max(0,Math.min(e,l.length-i));u.set(l.subarray(i,i+m),d),i+=m,i===l.length&&(n.shift(),i=0),o(null,m)};let a=new globalThis.Go;a.argv=["","--service=0.17.0"],tryToInstantiateModule(r,a).then(h=>{postMessage(null),a.run(h)},h=>{postMessage(h)})};async function tryToInstantiateModule(r,f){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const g=await fetch(r);if(!g.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(g.headers.get("Content-Type")||""))return(await WebAssembly.instantiateStreaming(g,f.importObject)).instance;const c=await g.arrayBuffer();return(await WebAssembly.instantiate(c,f.importObject)).instance}return r=>onmessage(r);})(R=>l.onmessage({data:R}));l={onmessage:null,postMessage:R=>setTimeout(()=>v({data:R})),terminate(){}}}let c,i,d=new Promise((v,R)=>{c=v,i=R});l.onmessage=({data:v})=>{l.onmessage=({data:R})=>o(R),v?i(v):c()},l.postMessage(t||new URL(e,location.href).toString());let{readFromStdout:o,service:y}=Pe({writeToStdin(v){l.postMessage(v)},isSync:!1,hasFS:!1,esbuild:he});await d,xe={build:v=>new Promise((R,C)=>y.buildOrContext({callName:"build",refs:null,options:v,isTTY:!1,defaultWD:"/",callback:(U,F)=>U?C(U):R(F)})),context:v=>new Promise((R,C)=>y.buildOrContext({callName:"context",refs:null,options:v,isTTY:!1,defaultWD:"/",callback:(U,F)=>U?C(U):R(F)})),transform:(v,R)=>new Promise((C,U)=>y.transform({callName:"transform",refs:null,input:v,options:R||{},isTTY:!1,fs:{readFile(F,j){j(new Error("Internal error"),null)},writeFile(F,j){j(null)}},callback:(F,j)=>F?U(F):C(j)})),formatMessages:(v,R)=>new Promise((C,U)=>y.formatMessages({callName:"formatMessages",refs:null,messages:v,options:R,callback:(F,j)=>F?U(F):C(j)})),analyzeMetafile:(v,R)=>new Promise((C,U)=>y.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof v=="string"?v:JSON.stringify(v),options:R,callback:(F,j)=>F?U(F):C(j)}))}},dt=he;export{lt as analyzeMetafile,ut as analyzeMetafileSync,tt as build,st as buildSync,nt as context,dt as default,it as formatMessages,at as formatMessagesSync,ft as initialize,rt as transform,ot as transformSync,et as version};

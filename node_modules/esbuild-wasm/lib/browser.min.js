(module=>{
"use strict";var be=Object.defineProperty;var We=Object.getOwnPropertyDescriptor;var ze=Object.getOwnPropertyNames;var Ke=Object.prototype.hasOwnProperty;var _e=(e,t)=>{for(var n in t)be(e,n,{get:t[n],enumerable:!0})},Ve=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of ze(t))!Ke.call(e,u)&&u!==n&&be(e,u,{get:()=>t[u],enumerable:!(i=We(t,u))||i.enumerable});return e};var Ye=e=>Ve(be({},"__esModule",{value:!0}),e);var X=(e,t,n)=>new Promise((i,u)=>{var l=p=>{try{o(n.next(p))}catch(b){u(b)}},d=p=>{try{o(n.throw(p))}catch(b){u(b)}},o=p=>p.done?i(p.value):Promise.resolve(p.value).then(l,d);o((n=n.apply(e,t)).next())});var we={};_e(we,{analyzeMetafile:()=>ct,analyzeMetafileSync:()=>mt,build:()=>ot,buildSync:()=>dt,context:()=>at,default:()=>wt,formatMessages:()=>ft,formatMessagesSync:()=>pt,initialize:()=>yt,transform:()=>ut,transformSync:()=>gt,version:()=>st});module.exports=Ye(we);function xe(e){let t=i=>{if(i===null)n.write8(0);else if(typeof i=="boolean")n.write8(1),n.write8(+i);else if(typeof i=="number")n.write8(2),n.write32(i|0);else if(typeof i=="string")n.write8(3),n.write(H(i));else if(i instanceof Uint8Array)n.write8(4),n.write(i);else if(i instanceof Array){n.write8(5),n.write32(i.length);for(let u of i)t(u)}else{let u=Object.keys(i);n.write8(6),n.write32(u.length);for(let l of u)n.write(H(l)),t(i[l])}},n=new de;return n.write32(0),n.write32(e.id<<1|+!e.isRequest),t(e.value),Re(n.buf,n.len-4,0),n.buf.subarray(0,n.len)}function Se(e){let t=()=>{switch(n.read8()){case 0:return null;case 1:return!!n.read8();case 2:return n.read32();case 3:return te(n.read());case 4:return n.read();case 5:{let d=n.read32(),o=[];for(let p=0;p<d;p++)o.push(t());return o}case 6:{let d=n.read32(),o={};for(let p=0;p<d;p++)o[te(n.read())]=t();return o}default:throw new Error("Invalid packet")}},n=new de(e),i=n.read32(),u=(i&1)===0;i>>>=1;let l=t();if(n.ptr!==e.length)throw new Error("Invalid packet");return{id:i,isRequest:u,value:l}}var de=class{constructor(t=new Uint8Array(1024)){this.buf=t;this.len=0;this.ptr=0}_write(t){if(this.len+t>this.buf.length){let n=new Uint8Array((this.len+t)*2);n.set(this.buf),this.buf=n}return this.len+=t,this.len-t}write8(t){let n=this._write(1);this.buf[n]=t}write32(t){let n=this._write(4);Re(this.buf,t,n)}write(t){let n=this._write(4+t.length);Re(this.buf,t.length,n),this.buf.set(t,n+4)}_read(t){if(this.ptr+t>this.buf.length)throw new Error("Invalid packet");return this.ptr+=t,this.ptr-t}read8(){return this.buf[this._read(1)]}read32(){return Oe(this.buf,this._read(4))}read(){let t=this.read32(),n=new Uint8Array(t),i=this._read(n.length);return n.set(this.buf.subarray(i,i+t)),n}},H,te,ve;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let e=new TextEncoder,t=new TextDecoder;H=n=>e.encode(n),te=n=>t.decode(n),ve='new TextEncoder().encode("")'}else if(typeof Buffer!="undefined")H=e=>Buffer.from(e),te=e=>{let{buffer:t,byteOffset:n,byteLength:i}=e;return Buffer.from(t,n,i).toString()},ve='Buffer.from("")';else throw new Error("No UTF-8 codec found");if(!(H("")instanceof Uint8Array))throw new Error(`Invariant violation: "${ve} instanceof Uint8Array" is incorrectly false

This indicates that your JavaScript environment is broken. You cannot use
esbuild in this environment because esbuild relies on this invariant. This
is not a problem with esbuild. You need to fix your environment instead.
`);function Oe(e,t){return e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24}function Re(e,t,n){e[n++]=t,e[n++]=t>>8,e[n++]=t>>16,e[n++]=t>>24}var _=JSON.stringify,ke="warning",$e="silent";function Me(e){if(V(e,"target"),e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var me=()=>null,N=e=>typeof e=="boolean"?null:"a boolean",w=e=>typeof e=="string"?null:"a string",ye=e=>e instanceof RegExp?null:"a RegExp object",ie=e=>typeof e=="number"&&e===(e|0)?null:"an integer",Te=e=>typeof e=="function"?null:"a function",z=e=>Array.isArray(e)?null:"an array",G=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"an object",Qe=e=>e instanceof WebAssembly.Module?null:"a WebAssembly.Module",He=e=>typeof e=="object"&&e!==null?null:"an array or an object",Ce=e=>typeof e=="object"&&!Array.isArray(e)?null:"an object or null",Fe=e=>typeof e=="string"||typeof e=="boolean"?null:"a string or a boolean",Ge=e=>typeof e=="string"||typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"a string or an object",Xe=e=>typeof e=="string"||Array.isArray(e)?null:"a string or an array",Be=e=>typeof e=="string"||e instanceof Uint8Array?null:"a string or a Uint8Array",Ze=e=>typeof e=="string"||e instanceof URL?null:"a string or a URL";function r(e,t,n,i){let u=e[n];if(t[n+""]=!0,u===void 0)return;let l=i(u);if(l!==null)throw new Error(`${_(n)} must be ${l}`);return u}function K(e,t,n){for(let i in e)if(!(i in t))throw new Error(`Invalid option ${n}: ${_(i)}`)}function De(e){let t=Object.create(null),n=r(e,t,"wasmURL",Ze),i=r(e,t,"wasmModule",Qe),u=r(e,t,"worker",N);return K(e,t,"in initialize() call"),{wasmURL:n,wasmModule:i,worker:u}}function Pe(e){let t;if(e!==void 0){t=Object.create(null);for(let n in e){let i=e[n];if(typeof i=="string"||i===!1)t[n]=i;else throw new Error(`Expected ${_(n)} in mangle cache to map to either a string or false`)}}return t}function he(e,t,n,i,u){let l=r(t,n,"color",N),d=r(t,n,"logLevel",w),o=r(t,n,"logLimit",ie);l!==void 0?e.push(`--color=${l}`):i&&e.push("--color=true"),e.push(`--log-level=${d||u}`),e.push(`--log-limit=${o||0}`)}function V(e,t,n){if(typeof e!="string")throw new Error(`Expected value for ${t}${n!==void 0?" "+_(n):""} to be a string, got ${typeof e} instead`);return e}function Ue(e,t,n){let i=r(t,n,"legalComments",w),u=r(t,n,"sourceRoot",w),l=r(t,n,"sourcesContent",N),d=r(t,n,"target",Xe),o=r(t,n,"format",w),p=r(t,n,"globalName",w),b=r(t,n,"mangleProps",ye),R=r(t,n,"reserveProps",ye),M=r(t,n,"mangleQuoted",N),U=r(t,n,"minify",N),F=r(t,n,"minifySyntax",N),j=r(t,n,"minifyWhitespace",N),Y=r(t,n,"minifyIdentifiers",N),B=r(t,n,"drop",z),I=r(t,n,"charset",w),L=r(t,n,"treeShaking",N),g=r(t,n,"ignoreAnnotations",N),s=r(t,n,"jsx",w),f=r(t,n,"jsxFactory",w),h=r(t,n,"jsxFragment",w),A=r(t,n,"jsxImportSource",w),T=r(t,n,"jsxDev",N),a=r(t,n,"jsxSideEffects",N),c=r(t,n,"define",G),m=r(t,n,"logOverride",G),x=r(t,n,"supported",G),S=r(t,n,"pure",z),k=r(t,n,"keepNames",N),E=r(t,n,"platform",w);if(i&&e.push(`--legal-comments=${i}`),u!==void 0&&e.push(`--source-root=${u}`),l!==void 0&&e.push(`--sources-content=${l}`),d&&(Array.isArray(d)?e.push(`--target=${Array.from(d).map(Me).join(",")}`):e.push(`--target=${Me(d)}`)),o&&e.push(`--format=${o}`),p&&e.push(`--global-name=${p}`),E&&e.push(`--platform=${E}`),U&&e.push("--minify"),F&&e.push("--minify-syntax"),j&&e.push("--minify-whitespace"),Y&&e.push("--minify-identifiers"),I&&e.push(`--charset=${I}`),L!==void 0&&e.push(`--tree-shaking=${L}`),g&&e.push("--ignore-annotations"),B)for(let v of B)e.push(`--drop:${V(v,"drop")}`);if(b&&e.push(`--mangle-props=${b.source}`),R&&e.push(`--reserve-props=${R.source}`),M!==void 0&&e.push(`--mangle-quoted=${M}`),s&&e.push(`--jsx=${s}`),f&&e.push(`--jsx-factory=${f}`),h&&e.push(`--jsx-fragment=${h}`),A&&e.push(`--jsx-import-source=${A}`),T&&e.push("--jsx-dev"),a&&e.push("--jsx-side-effects"),c)for(let v in c){if(v.indexOf("=")>=0)throw new Error(`Invalid define: ${v}`);e.push(`--define:${v}=${V(c[v],"define",v)}`)}if(m)for(let v in m){if(v.indexOf("=")>=0)throw new Error(`Invalid log override: ${v}`);e.push(`--log-override:${v}=${V(m[v],"log override",v)}`)}if(x)for(let v in x){if(v.indexOf("=")>=0)throw new Error(`Invalid supported: ${v}`);let O=x[v];if(typeof O!="boolean")throw new Error(`Expected value for supported ${_(v)} to be a boolean, got ${typeof O} instead`);e.push(`--supported:${v}=${O}`)}if(S)for(let v of S)e.push(`--pure:${V(v,"pure")}`);k&&e.push("--keep-names")}function et(e,t,n,i,u){var oe;let l=[],d=[],o=Object.create(null),p=null,b=null;he(l,t,o,n,i),Ue(l,t,o);let R=r(t,o,"sourcemap",Fe),M=r(t,o,"bundle",N),U=r(t,o,"splitting",N),F=r(t,o,"preserveSymlinks",N),j=r(t,o,"metafile",N),Y=r(t,o,"outfile",w),B=r(t,o,"outdir",w),I=r(t,o,"outbase",w),L=r(t,o,"tsconfig",w),g=r(t,o,"resolveExtensions",z),s=r(t,o,"nodePaths",z),f=r(t,o,"mainFields",z),h=r(t,o,"conditions",z),A=r(t,o,"external",z),T=r(t,o,"packages",w),a=r(t,o,"alias",G),c=r(t,o,"loader",G),m=r(t,o,"outExtension",G),x=r(t,o,"publicPath",w),S=r(t,o,"entryNames",w),k=r(t,o,"chunkNames",w),E=r(t,o,"assetNames",w),v=r(t,o,"inject",z),O=r(t,o,"banner",G),W=r(t,o,"footer",G),C=r(t,o,"entryPoints",He),D=r(t,o,"absWorkingDir",w),P=r(t,o,"stdin",G),$=(oe=r(t,o,"write",N))!=null?oe:u,J=r(t,o,"allowOverwrite",N),Q=r(t,o,"mangleCache",G);if(o.plugins=!0,K(t,o,`in ${e}() call`),R&&l.push(`--sourcemap${R===!0?"":`=${R}`}`),M&&l.push("--bundle"),J&&l.push("--allow-overwrite"),U&&l.push("--splitting"),F&&l.push("--preserve-symlinks"),j&&l.push("--metafile"),Y&&l.push(`--outfile=${Y}`),B&&l.push(`--outdir=${B}`),I&&l.push(`--outbase=${I}`),L&&l.push(`--tsconfig=${L}`),T&&l.push(`--packages=${T}`),g){let y=[];for(let q of g){if(V(q,"resolve extension"),q.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${q}`);y.push(q)}l.push(`--resolve-extensions=${y.join(",")}`)}if(x&&l.push(`--public-path=${x}`),S&&l.push(`--entry-names=${S}`),k&&l.push(`--chunk-names=${k}`),E&&l.push(`--asset-names=${E}`),f){let y=[];for(let q of f){if(V(q,"main field"),q.indexOf(",")>=0)throw new Error(`Invalid main field: ${q}`);y.push(q)}l.push(`--main-fields=${y.join(",")}`)}if(h){let y=[];for(let q of h){if(V(q,"condition"),q.indexOf(",")>=0)throw new Error(`Invalid condition: ${q}`);y.push(q)}l.push(`--conditions=${y.join(",")}`)}if(A)for(let y of A)l.push(`--external:${V(y,"external")}`);if(a)for(let y in a){if(y.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${y}`);l.push(`--alias:${y}=${V(a[y],"alias",y)}`)}if(O)for(let y in O){if(y.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${y}`);l.push(`--banner:${y}=${V(O[y],"banner",y)}`)}if(W)for(let y in W){if(y.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${y}`);l.push(`--footer:${y}=${V(W[y],"footer",y)}`)}if(v)for(let y of v)l.push(`--inject:${V(y,"inject")}`);if(c)for(let y in c){if(y.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${y}`);l.push(`--loader:${y}=${V(c[y],"loader",y)}`)}if(m)for(let y in m){if(y.indexOf("=")>=0)throw new Error(`Invalid out extension: ${y}`);l.push(`--out-extension:${y}=${V(m[y],"out extension",y)}`)}if(C)if(Array.isArray(C))for(let y of C)d.push(["",V(y,"entry point")]);else for(let y in C)d.push([y,V(C[y],"entry point",y)]);if(P){let y=Object.create(null),q=r(P,y,"contents",Be),Z=r(P,y,"resolveDir",w),ae=r(P,y,"sourcefile",w),ce=r(P,y,"loader",w);K(P,y,'in "stdin" object'),ae&&l.push(`--sourcefile=${ae}`),ce&&l.push(`--loader=${ce}`),Z&&(b=Z),typeof q=="string"?p=H(q):q instanceof Uint8Array&&(p=q)}let re=[];if(s)for(let y of s)y+="",re.push(y);return{entries:d,flags:l,write:$,stdinContents:p,stdinResolveDir:b,absWorkingDir:D,nodePaths:re,mangleCache:Pe(Q)}}function tt(e,t,n,i){let u=[],l=Object.create(null);he(u,t,l,n,i),Ue(u,t,l);let d=r(t,l,"sourcemap",Fe),o=r(t,l,"tsconfigRaw",Ge),p=r(t,l,"sourcefile",w),b=r(t,l,"loader",w),R=r(t,l,"banner",w),M=r(t,l,"footer",w),U=r(t,l,"mangleCache",G);return K(t,l,`in ${e}() call`),d&&u.push(`--sourcemap=${d===!0?"external":d}`),o&&u.push(`--tsconfig-raw=${typeof o=="string"?o:JSON.stringify(o)}`),p&&u.push(`--sourcefile=${p}`),b&&u.push(`--loader=${b}`),R&&u.push(`--banner=${R}`),M&&u.push(`--footer=${M}`),{flags:u,mangleCache:Pe(U)}}function je(e){let t={},n={didClose:!1,reason:""},i={},u=0,l=0,d=new Uint8Array(16*1024),o=0,p=g=>{let s=o+g.length;if(s>d.length){let h=new Uint8Array(s*2);h.set(d),d=h}d.set(g,o),o+=g.length;let f=0;for(;f+4<=o;){let h=Oe(d,f);if(f+4+h>o)break;f+=4,j(d.subarray(f,f+h)),f+=h}f>0&&(d.copyWithin(0,f,o),o-=f)},b=g=>{n.didClose=!0,g&&(n.reason=": "+(g.message||g));let s="The service was stopped"+n.reason;for(let f in i)i[f](s,null);i={}},R=(g,s,f)=>{if(n.didClose)return f("The service is no longer running"+n.reason,null);let h=u++;i[h]=(A,T)=>{try{f(A,T)}finally{g&&g.unref()}},g&&g.ref(),e.writeToStdin(xe({id:h,isRequest:!0,value:s}))},M=(g,s)=>{if(n.didClose)throw new Error("The service is no longer running"+n.reason);e.writeToStdin(xe({id:g,isRequest:!1,value:s}))},U=(g,s)=>X(this,null,function*(){try{if(s.command==="ping"){M(g,{});return}if(typeof s.key=="number"){let f=t[s.key];if(f){let h=f[s.command];if(h){yield h(g,s);return}}}throw new Error("Invalid command: "+s.command)}catch(f){M(g,{errors:[ne(f,e,null,void 0,"")]})}}),F=!0,j=g=>{if(F){F=!1;let f=String.fromCharCode(...g);if(f!=="0.17.0")throw new Error(`Cannot start service: Host version "0.17.0" does not match binary version ${_(f)}`);return}let s=Se(g);if(s.isRequest)U(s.id,s.value);else{let f=i[s.id];delete i[s.id],s.value.error?f(s.value.error,{}):f(null,s.value)}};return{readFromStdout:p,afterClose:b,service:{buildOrContext:({callName:g,refs:s,options:f,isTTY:h,defaultWD:A,callback:T})=>{let a=0,c=l++,m={},x={ref(){++a===1&&s&&s.ref()},unref(){--a===0&&(delete t[c],s&&s.unref())}};t[c]=m,x.ref(),nt(g,c,R,M,x,e,m,f,h,A,(S,k)=>{try{T(S,k)}finally{x.unref()}})},transform:({callName:g,refs:s,input:f,options:h,isTTY:A,fs:T,callback:a})=>{let c=Le(),m=x=>{try{if(typeof f!="string"&&!(f instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:S,mangleCache:k}=tt(g,h,A,$e),E={command:"transform",flags:S,inputFS:x!==null,input:x!==null?H(x):typeof f=="string"?H(f):f};k&&(E.mangleCache=k),R(s,E,(v,O)=>{if(v)return a(new Error(v),null);let W=le(O.errors,c),C=le(O.warnings,c),D=1,P=()=>{if(--D===0){let $={warnings:C,code:O.code,map:O.map,mangleCache:void 0,legalComments:void 0};"legalComments"in O&&($.legalComments=O==null?void 0:O.legalComments),O.mangleCache&&($.mangleCache=O==null?void 0:O.mangleCache),a(null,$)}};if(W.length>0)return a(ue("Transform failed",W,C),null);O.codeFS&&(D++,T.readFile(O.code,($,J)=>{$!==null?a($,null):(O.code=J,P())})),O.mapFS&&(D++,T.readFile(O.map,($,J)=>{$!==null?a($,null):(O.map=J,P())})),P()})}catch(S){let k=[];try{he(k,h,{},A,$e)}catch(v){}let E=ne(S,e,c,void 0,"");R(s,{command:"error",flags:k,error:E},()=>{E.detail=c.load(E.detail),a(ue("Transform failed",[E],[]),null)})}};if((typeof f=="string"||f instanceof Uint8Array)&&f.length>1024*1024){let x=m;m=()=>T.writeFile(f,x)}m(null)},formatMessages:({callName:g,refs:s,messages:f,options:h,callback:A})=>{let T=ee(f,"messages",null,"");if(!h)throw new Error(`Missing second argument in ${g}() call`);let a={},c=r(h,a,"kind",w),m=r(h,a,"color",N),x=r(h,a,"terminalWidth",ie);if(K(h,a,`in ${g}() call`),c===void 0)throw new Error(`Missing "kind" in ${g}() call`);if(c!=="error"&&c!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${g}() call`);let S={command:"format-msgs",messages:T,isWarning:c==="warning"};m!==void 0&&(S.color=m),x!==void 0&&(S.terminalWidth=x),R(s,S,(k,E)=>{if(k)return A(new Error(k),null);A(null,E.messages)})},analyzeMetafile:({callName:g,refs:s,metafile:f,options:h,callback:A})=>{h===void 0&&(h={});let T={},a=r(h,T,"color",N),c=r(h,T,"verbose",N);K(h,T,`in ${g}() call`);let m={command:"analyze-metafile",metafile:f};a!==void 0&&(m.color=a),c!==void 0&&(m.verbose=c),R(s,m,(x,S)=>{if(x)return A(new Error(x),null);A(null,S.result)})}}}}function nt(e,t,n,i,u,l,d,o,p,b,R){let M=Le(),U=e==="context",F=(B,I)=>{let L=[];try{he(L,o,{},p,ke)}catch(s){}let g=ne(B,l,M,void 0,I);n(u,{command:"error",flags:L,error:g},()=>{g.detail=M.load(g.detail),R(ue(U?"Context failed":"Build failed",[g],[]),null)})},j;if(typeof o=="object"){let B=o.plugins;if(B!==void 0){if(!Array.isArray(B))return F(new Error('"plugins" must be an array'),"");j=B}}if(j&&j.length>0){if(l.isSync)return F(new Error("Cannot use plugins in synchronous API calls"),"");rt(t,n,i,u,l,d,o,j,M).then(B=>{if(!B.ok)return F(B.error,B.pluginName);try{Y(B.requestPlugins,B.runOnEndCallbacks)}catch(I){F(I,"")}},B=>F(B,""));return}try{Y(null,(B,I)=>I([],[]))}catch(B){F(B,"")}function Y(B,I){let L=l.hasFS,{entries:g,flags:s,write:f,stdinContents:h,stdinResolveDir:A,absWorkingDir:T,nodePaths:a,mangleCache:c}=et(e,o,p,ke,L);if(f&&!l.hasFS)throw new Error('The "write" option is unavailable in this environment');let m={command:"build",key:t,entries:g,flags:s,write:f,stdinContents:h,stdinResolveDir:A,absWorkingDir:T||b,nodePaths:a,context:U};B&&(m.plugins=B),c&&(m.mangleCache=c);let x=(E,v)=>{let O={errors:le(E.errors,M),warnings:le(E.warnings,M),outputFiles:void 0,metafile:void 0,mangleCache:void 0},W=O.errors.slice(),C=O.warnings.slice();E.outputFiles&&(O.outputFiles=E.outputFiles.map(it)),E.metafile&&(O.metafile=JSON.parse(E.metafile)),E.mangleCache&&(O.mangleCache=E.mangleCache),E.writeToStdout!==void 0&&console.log(te(E.writeToStdout).replace(/\n$/,"")),I(O,(D,P)=>{if(W.length>0||D.length>0){let $=ue("Build failed",W.concat(D),C.concat(P));return v($,null,D,P)}v(null,O,D,P)})},S,k;U&&(d["on-end"]=(E,v)=>new Promise(O=>{x(v,(W,C,D,P)=>{let $={errors:D,warnings:P};k&&k(W,C),S=void 0,k=void 0,i(E,$),O()})})),n(u,m,(E,v)=>{if(E)return R(new Error(E),null);if(!U)return x(v,R);if(v.errors.length>0)return R(ue("Context failed",v.errors,v.warnings),null);let O=!1,W={rebuild:()=>(S||(S=new Promise((C,D)=>{let P;k=(J,Q)=>{P||(P=()=>J?D(J):C(Q))};let $=()=>{n(u,{command:"rebuild",key:t},(Q,re)=>{Q?D(new Error(Q)):P?P():$()})};$()})),S),watch:(C={})=>new Promise((D,P)=>{if(!l.hasFS)throw new Error('Cannot use the "watch" API in this environment');K(C,{},"in watch() call"),n(u,{command:"watch",key:t},Q=>{Q?P(new Error(Q)):D(void 0)})}),serve:(C={})=>new Promise((D,P)=>{if(!l.hasFS)throw new Error('Cannot use the "serve" API in this environment');let $={},J=r(C,$,"port",ie),Q=r(C,$,"host",w),re=r(C,$,"servedir",w),oe=r(C,$,"keyfile",w),y=r(C,$,"certfile",w),q=r(C,$,"onRequest",Te);K(C,$,"in serve() call");let Z={command:"serve",key:t,onRequest:!!q};J!==void 0&&(Z.port=J),Q!==void 0&&(Z.host=Q),re!==void 0&&(Z.servedir=re),oe!==void 0&&(Z.keyfile=oe),y!==void 0&&(Z.certfile=y),n(u,Z,(ae,ce)=>{if(ae)return P(new Error(ae));q&&(d["serve-request"]=(qe,Ie)=>{q(Ie.args),i(qe,{})}),D(ce)})}),dispose:()=>new Promise(C=>{if(O)return C();n(u,{command:"dispose",key:t},()=>{C(),u.unref()})})};u.ref(),R(null,W)})}}var rt=(e,t,n,i,u,l,d,o,p)=>X(void 0,null,function*(){let b=[],R=[],M={},U={},F=0,j=0,Y=[],B=!1;o=[...o];for(let L of o){let g={};if(typeof L!="object")throw new Error(`Plugin at index ${j} must be an object`);let s=r(L,g,"name",w);if(typeof s!="string"||s==="")throw new Error(`Plugin at index ${j} is missing a name`);try{let f=r(L,g,"setup",Te);if(typeof f!="function")throw new Error("Plugin is missing a setup function");K(L,g,`on plugin ${_(s)}`);let h={name:s,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};j++;let T=f({initialOptions:d,resolve:(a,c={})=>{if(!B)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof a!="string")throw new Error("The path to resolve must be a string");let m=Object.create(null),x=r(c,m,"pluginName",w),S=r(c,m,"importer",w),k=r(c,m,"namespace",w),E=r(c,m,"resolveDir",w),v=r(c,m,"kind",w),O=r(c,m,"pluginData",me);return K(c,m,"in resolve() call"),new Promise((W,C)=>{let D={command:"resolve",path:a,key:e,pluginName:s};if(x!=null&&(D.pluginName=x),S!=null&&(D.importer=S),k!=null&&(D.namespace=k),E!=null&&(D.resolveDir=E),v!=null)D.kind=v;else throw new Error('Must specify "kind" when calling "resolve"');O!=null&&(D.pluginData=p.store(O)),t(i,D,(P,$)=>{P!==null?C(new Error(P)):W({errors:le($.errors,p),warnings:le($.warnings,p),path:$.path,external:$.external,sideEffects:$.sideEffects,namespace:$.namespace,suffix:$.suffix,pluginData:p.load($.pluginData)})})})},onStart(a){let c='This error came from the "onStart" callback registered here:',m=ge(new Error(c),u,"onStart");b.push({name:s,callback:a,note:m}),h.onStart=!0},onEnd(a){let c='This error came from the "onEnd" callback registered here:',m=ge(new Error(c),u,"onEnd");R.push({name:s,callback:a,note:m}),h.onEnd=!0},onResolve(a,c){let m='This error came from the "onResolve" callback registered here:',x=ge(new Error(m),u,"onResolve"),S={},k=r(a,S,"filter",ye),E=r(a,S,"namespace",w);if(K(a,S,`in onResolve() call for plugin ${_(s)}`),k==null)throw new Error("onResolve() call is missing a filter");let v=F++;M[v]={name:s,callback:c,note:x},h.onResolve.push({id:v,filter:k.source,namespace:E||""})},onLoad(a,c){let m='This error came from the "onLoad" callback registered here:',x=ge(new Error(m),u,"onLoad"),S={},k=r(a,S,"filter",ye),E=r(a,S,"namespace",w);if(K(a,S,`in onLoad() call for plugin ${_(s)}`),k==null)throw new Error("onLoad() call is missing a filter");let v=F++;U[v]={name:s,callback:c,note:x},h.onLoad.push({id:v,filter:k.source,namespace:E||""})},esbuild:u.esbuild});T&&(yield T),Y.push(h)}catch(f){return{ok:!1,error:f,pluginName:s}}}l["on-start"]=(L,g)=>X(void 0,null,function*(){let s={errors:[],warnings:[]};yield Promise.all(b.map(T=>X(void 0,[T],function*({name:f,callback:h,note:A}){try{let a=yield h();if(a!=null){if(typeof a!="object")throw new Error(`Expected onStart() callback in plugin ${_(f)} to return an object`);let c={},m=r(a,c,"errors",z),x=r(a,c,"warnings",z);K(a,c,`from onStart() callback in plugin ${_(f)}`),m!=null&&s.errors.push(...ee(m,"errors",p,f)),x!=null&&s.warnings.push(...ee(x,"warnings",p,f))}}catch(a){s.errors.push(ne(a,u,p,A&&A(),f))}}))),n(L,s)}),l["on-resolve"]=(L,g)=>X(void 0,null,function*(){let s={},f="",h,A;for(let T of g.ids)try{({name:f,callback:h,note:A}=M[T]);let a=yield h({path:g.path,importer:g.importer,namespace:g.namespace,resolveDir:g.resolveDir,kind:g.kind,pluginData:p.load(g.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onResolve() callback in plugin ${_(f)} to return an object`);let c={},m=r(a,c,"pluginName",w),x=r(a,c,"path",w),S=r(a,c,"namespace",w),k=r(a,c,"suffix",w),E=r(a,c,"external",N),v=r(a,c,"sideEffects",N),O=r(a,c,"pluginData",me),W=r(a,c,"errors",z),C=r(a,c,"warnings",z),D=r(a,c,"watchFiles",z),P=r(a,c,"watchDirs",z);K(a,c,`from onResolve() callback in plugin ${_(f)}`),s.id=T,m!=null&&(s.pluginName=m),x!=null&&(s.path=x),S!=null&&(s.namespace=S),k!=null&&(s.suffix=k),E!=null&&(s.external=E),v!=null&&(s.sideEffects=v),O!=null&&(s.pluginData=p.store(O)),W!=null&&(s.errors=ee(W,"errors",p,f)),C!=null&&(s.warnings=ee(C,"warnings",p,f)),D!=null&&(s.watchFiles=pe(D,"watchFiles")),P!=null&&(s.watchDirs=pe(P,"watchDirs"));break}}catch(a){s={id:T,errors:[ne(a,u,p,A&&A(),f)]};break}n(L,s)}),l["on-load"]=(L,g)=>X(void 0,null,function*(){let s={},f="",h,A;for(let T of g.ids)try{({name:f,callback:h,note:A}=U[T]);let a=yield h({path:g.path,namespace:g.namespace,suffix:g.suffix,pluginData:p.load(g.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onLoad() callback in plugin ${_(f)} to return an object`);let c={},m=r(a,c,"pluginName",w),x=r(a,c,"contents",Be),S=r(a,c,"resolveDir",w),k=r(a,c,"pluginData",me),E=r(a,c,"loader",w),v=r(a,c,"errors",z),O=r(a,c,"warnings",z),W=r(a,c,"watchFiles",z),C=r(a,c,"watchDirs",z);K(a,c,`from onLoad() callback in plugin ${_(f)}`),s.id=T,m!=null&&(s.pluginName=m),x instanceof Uint8Array?s.contents=x:x!=null&&(s.contents=H(x)),S!=null&&(s.resolveDir=S),k!=null&&(s.pluginData=p.store(k)),E!=null&&(s.loader=E),v!=null&&(s.errors=ee(v,"errors",p,f)),O!=null&&(s.warnings=ee(O,"warnings",p,f)),W!=null&&(s.watchFiles=pe(W,"watchFiles")),C!=null&&(s.watchDirs=pe(C,"watchDirs"));break}}catch(a){s={id:T,errors:[ne(a,u,p,A&&A(),f)]};break}n(L,s)});let I=(L,g)=>g([],[]);return R.length>0&&(I=(L,g)=>{X(void 0,null,function*(){let s=[],f=[];for(let{name:h,callback:A,note:T}of R){let a,c;try{let m=yield A(L);if(m!=null){if(typeof m!="object")throw new Error(`Expected onEnd() callback in plugin ${_(h)} to return an object`);let x={},S=r(m,x,"errors",z),k=r(m,x,"warnings",z);K(m,x,`from onEnd() callback in plugin ${_(h)}`),S!=null&&(a=ee(S,"errors",p,h)),k!=null&&(c=ee(k,"warnings",p,h))}}catch(m){a=[ne(m,u,p,T&&T(),h)]}if(a){s.push(...a);try{L.errors.push(...a)}catch(m){}}if(c){f.push(...c);try{L.warnings.push(...c)}catch(m){}}}g(s,f)})}),B=!0,{ok:!0,requestPlugins:Y,runOnEndCallbacks:I}});function Le(){let e=new Map,t=0;return{load(n){return e.get(n)},store(n){if(n===void 0)return-1;let i=t++;return e.set(i,n),i}}}function ge(e,t,n){let i,u=!1;return()=>{if(u)return i;u=!0;try{let l=(e.stack+"").split(`
`);l.splice(1,1);let d=Ne(t,l,n);if(d)return i={text:e.message,location:d},i}catch(l){}}}function ne(e,t,n,i,u){let l="Internal error",d=null;try{l=(e&&e.message||e)+""}catch(o){}try{d=Ne(t,(e.stack+"").split(`
`),"")}catch(o){}return{id:"",pluginName:u,text:l,location:d,notes:i?[i]:[],detail:n?n.store(e):-1}}function Ne(e,t,n){let i="    at ";if(e.readFileSync&&!t[0].startsWith(i)&&t[1].startsWith(i))for(let u=1;u<t.length;u++){let l=t[u];if(l.startsWith(i))for(l=l.slice(i.length);;){let d=/^(?:new |async )?\S+ \((.*)\)$/.exec(l);if(d){l=d[1];continue}if(d=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(l),d){l=d[1];continue}if(d=/^(\S+):(\d+):(\d+)$/.exec(l),d){let o;try{o=e.readFileSync(d[1],"utf8")}catch(M){break}let p=o.split(/\r\n|\r|\n|\u2028|\u2029/)[+d[2]-1]||"",b=+d[3]-1,R=p.slice(b,b+n.length)===n?n.length:0;return{file:d[1],namespace:"file",line:+d[2],column:H(p.slice(0,b)).length,length:H(p.slice(b,b+R)).length,lineText:p+`
`+t.slice(1).join(`
`),suggestion:""}}break}}return null}function ue(e,t,n){let i=5,u=t.length<1?"":` with ${t.length} error${t.length<2?"":"s"}:`+t.slice(0,i+1).map((d,o)=>{if(o===i)return`
...`;if(!d.location)return`
error: ${d.text}`;let{file:p,line:b,column:R}=d.location,M=d.pluginName?`[plugin: ${d.pluginName}] `:"";return`
${p}:${b}:${R}: ERROR: ${M}${d.text}`}).join(""),l=new Error(`${e}${u}`);return l.errors=t,l.warnings=n,l}function le(e,t){for(let n of e)n.detail=t.load(n.detail);return e}function Ae(e,t){if(e==null)return null;let n={},i=r(e,n,"file",w),u=r(e,n,"namespace",w),l=r(e,n,"line",ie),d=r(e,n,"column",ie),o=r(e,n,"length",ie),p=r(e,n,"lineText",w),b=r(e,n,"suggestion",w);return K(e,n,t),{file:i||"",namespace:u||"",line:l||0,column:d||0,length:o||0,lineText:p||"",suggestion:b||""}}function ee(e,t,n,i){let u=[],l=0;for(let d of e){let o={},p=r(d,o,"id",w),b=r(d,o,"pluginName",w),R=r(d,o,"text",w),M=r(d,o,"location",Ce),U=r(d,o,"notes",z),F=r(d,o,"detail",me),j=`in element ${l} of "${t}"`;K(d,o,j);let Y=[];if(U)for(let B of U){let I={},L=r(B,I,"text",w),g=r(B,I,"location",Ce);K(B,I,j),Y.push({text:L||"",location:Ae(g,j)})}u.push({id:p||"",pluginName:b||i,text:R||"",location:Ae(M,j),notes:Y,detail:n?n.store(F):-1}),l++}return u}function pe(e,t){let n=[];for(let i of e){if(typeof i!="string")throw new Error(`${_(t)} must be an array of strings`);n.push(i)}return n}function it({path:e,contents:t}){let n=null;return{path:e,contents:t,get text(){let i=this.contents;return(n===null||i!==t)&&(t=i,n=te(i)),n}}}var st="0.17.0",ot=e=>fe().build(e),at=e=>fe().context(e),ut=(e,t)=>fe().transform(e,t),ft=(e,t)=>fe().formatMessages(e,t),ct=(e,t)=>fe().analyzeMetafile(e,t),dt=()=>{throw new Error('The "buildSync" API only works in node')},gt=()=>{throw new Error('The "transformSync" API only works in node')},pt=()=>{throw new Error('The "formatMessagesSync" API only works in node')},mt=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},se,Ee,fe=()=>{if(Ee)return Ee;throw se?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},yt=e=>{e=De(e||{});let t=e.wasmURL,n=e.wasmModule,i=e.worker!==!1;if(!t&&!n)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(se)throw new Error('Cannot call "initialize" more than once');return se=ht(t||"",n,i),se.catch(()=>{se=void 0}),se},ht=(e,t,n)=>X(void 0,null,function*(){let i;if(n){let b=new Blob(['onmessage=(postMessage=>{\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`\n`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`\n`);g.length>1&&console.log(g.slice(0,-1).join(`\n`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.17.0"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(postMessage)'],{type:"text/javascript"});i=new Worker(URL.createObjectURL(b))}else{let b=(postMessage=>{
// Copyright 2018 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
var y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`
`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`
`);g.length>1&&console.log(g.slice(0,-1).join(`
`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.17.0"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(R=>i.onmessage({data:R}));i={onmessage:null,postMessage:R=>setTimeout(()=>b({data:R})),terminate(){}}}let u,l,d=new Promise((b,R)=>{u=b,l=R});i.onmessage=({data:b})=>{i.onmessage=({data:R})=>o(R),b?l(b):u()},i.postMessage(t||new URL(e,location.href).toString());let{readFromStdout:o,service:p}=je({writeToStdin(b){i.postMessage(b)},isSync:!1,hasFS:!1,esbuild:we});yield d,Ee={build:b=>new Promise((R,M)=>p.buildOrContext({callName:"build",refs:null,options:b,isTTY:!1,defaultWD:"/",callback:(U,F)=>U?M(U):R(F)})),context:b=>new Promise((R,M)=>p.buildOrContext({callName:"context",refs:null,options:b,isTTY:!1,defaultWD:"/",callback:(U,F)=>U?M(U):R(F)})),transform:(b,R)=>new Promise((M,U)=>p.transform({callName:"transform",refs:null,input:b,options:R||{},isTTY:!1,fs:{readFile(F,j){j(new Error("Internal error"),null)},writeFile(F,j){j(null)}},callback:(F,j)=>F?U(F):M(j)})),formatMessages:(b,R)=>new Promise((M,U)=>p.formatMessages({callName:"formatMessages",refs:null,messages:b,options:R,callback:(F,j)=>F?U(F):M(j)})),analyzeMetafile:(b,R)=>new Promise((M,U)=>p.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof b=="string"?b:JSON.stringify(b),options:R,callback:(F,j)=>F?U(F):M(j)}))}}),wt=we;
})(typeof module==="object"?module:{set exports(x){(typeof self!=="undefined"?self:this).esbuild=x}});
